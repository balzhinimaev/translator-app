# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ü–µ—Ä–µ–≤–æ–¥—á–∏–∫–∞ –†–µ—á–∏ (Speech Translator)

–¢–µ–ª–µ–≥—Ä–∞–º Web App –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ —Ä–µ—á–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥–≤—É—Ö —Ä–µ–∂–∏–º–æ–≤ —Ä–∞–±–æ—Ç—ã: –æ–±—ã—á–Ω–æ–≥–æ –∏ –ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üé§ –î–≤–∞ –†–µ–∂–∏–º–∞ –ó–∞–ø–∏—Å–∏

#### –û–±—ã—á–Ω—ã–π –†–µ–∂–∏–º
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç–µ —Ä–µ—á—å –ø–æ–ª–Ω–æ—Å—Ç—å—é
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç–µ –∑–∞–ø–∏—Å—å
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ –≤–µ—Å—å —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –ü–æ–ª—É—á–∞–µ—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–µ–≤–æ–¥–∞

#### –ü–æ—Ç–æ–∫–æ–≤—ã–π –†–µ–∂–∏–º (NEW!)
- –ù–∞—á–∏–Ω–∞–µ—Ç–µ –∑–∞–ø–∏—Å—å
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ –∞—É–¥–∏–æ —á–∞–Ω–∫–∞–º–∏ –∫–∞–∂–¥—ã–µ 1.5 —Å–µ–∫—É–Ω–¥—ã
- –ü–æ–ª—É—á–∞–µ—Ç–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –í–∏–¥–∏—Ç–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ –∏ –ø–µ—Ä–µ–≤–æ–¥ –ø–æ –º–µ—Ä–µ –≥–æ–≤–æ—Ä–µ–Ω–∏—è

### üåç –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –Ø–∑—ã–∫–∏
- –ê–Ω–≥–ª–∏–π—Å–∫–∏–π (English)
- –†—É—Å—Å–∫–∏–π (–†—É—Å—Å–∫–∏–π)
- –ù–µ–º–µ—Ü–∫–∏–π (Deutsch)
- –§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π (Fran√ßais)
- –ò—Å–ø–∞–Ω—Å–∫–∏–π (Espa√±ol)
- –ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–π (Italiano)
- –ö–∏—Ç–∞–π—Å–∫–∏–π (‰∏≠Êñá)
- –Ø–ø–æ–Ω—Å–∫–∏–π (Êó•Êú¨Ë™û)

### üéôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ì–æ–ª–æ—Å–∞ (–ü–æ—Ç–æ–∫–æ–≤—ã–π –†–µ–∂–∏–º)
- **6 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –≥–æ–ª–æ—Å–∞**: Alloy, Echo, Fable, Onyx, Nova, Shimmer
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏**: –æ—Ç 0.25x –¥–æ 4.0x
- **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–∏–Ω—Ç–µ–∑ —Ä–µ—á–∏** –¥–ª—è –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –î–µ—Ç–∞–ª–∏

### WebSocket –ü—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –ü–æ—Ç–æ–∫–æ–≤–æ–≥–æ –†–µ–∂–∏–º–∞

#### –°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É:

1. **–ù–∞—á–∞–ª–æ –ø–æ—Ç–æ–∫–æ–≤–æ–π —Å–µ—Å—Å–∏–∏**:
```json
{
  "type": "start_streaming",
  "request_id": "uuid",
  "payload": {
    "src_lang": "ru",
    "dst_lang": "en",
    "voice": "alloy",
    "speed": 1.0
  }
}
```

2. **–û—Ç–ø—Ä–∞–≤–∫–∞ –∞—É–¥–∏–æ-—á–∞–Ω–∫–∞** (–∫–∞–∂–¥—ã–µ 1.5 —Å–µ–∫):
```json
{
  "type": "audio_chunk",
  "request_id": "uuid",
  "payload": {
    "audio_chunk": "base64_encoded_audio_chunk"
  }
}
```

3. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏**:
```json
{
  "type": "end_streaming",
  "request_id": "uuid",
  "payload": {}
}
```

#### –°–æ–æ–±—â–µ–Ω–∏—è –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –∫ –∫–ª–∏–µ–Ω—Ç—É:
- `streaming_started` - —Å–µ—Å—Å–∏—è –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ
- `partial_stt_result` - —á–∞—Å—Ç–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏
- `partial_translation_chunk` - —á–∞—Å—Ç–∏—á–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ (—Å—Ç—Ä–∏–º–∏–Ω–≥)
- `final_audio_ready` - –≥–æ—Ç–æ–≤–æ–µ –∞—É–¥–∏–æ –ø–µ—Ä–µ–≤–æ–¥–∞

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- **Frontend**: React + TypeScript + Vite
- **WebSocket API**: –î–ª—è —Å–≤—è–∑–∏ —Å –±—ç–∫–µ–Ω–¥–æ–º
- **MediaRecorder API**: –î–ª—è –∑–∞–ø–∏—Å–∏ –∞—É–¥–∏–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- **Web Audio API**: –î–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω–æ–≥–æ –∞—É–¥–∏–æ
- **Telegram Web App API**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ó–∞–ø—É—Å–∫

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**:
```bash
npm install
```

2. **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞**:
```bash
npm run dev
```

3. **–°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞**:
```bash
npm run build
```

4. **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–±–æ—Ä–∫–∏**:
```bash
npm run preview
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îî‚îÄ‚îÄ index.ts          # WebSocket API —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ SpeechTranslator.tsx  # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ Translator.tsx        # –¢–µ–∫—Å—Ç–æ–≤—ã–π –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫
‚îú‚îÄ‚îÄ types.d.ts            # TypeScript —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ App.tsx               # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îú‚îÄ‚îÄ App.css               # –°—Ç–∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ main.tsx              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
```

## –ö–∞–∫ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –û–±—ã—á–Ω—ã–π –†–µ–∂–∏–º
1. –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–∞
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ üé§
3. –ì–æ–≤–æ—Ä–∏—Ç–µ, –∑–∞—Ç–µ–º –Ω–∞–∂–º–∏—Ç–µ üõë –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
4. –î–æ–∂–¥–∏—Ç–µ—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∞—É–¥–∏–æ

### –ü–æ—Ç–æ–∫–æ–≤—ã–π –†–µ–∂–∏–º
1. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –≤ "–ü–æ—Ç–æ–∫–æ–≤—ã–π —Ä–µ–∂–∏–º"
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≥–æ–ª–æ—Å –∏ —Å–∫–æ—Ä–æ—Å—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
3. –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–∞
4. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ üé§
5. –ì–æ–≤–æ—Ä–∏—Ç–µ - –≤–∏–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
6. –ù–∞–∂–º–∏—Ç–µ üõë –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π MediaRecorder API
- –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É
- –°—Ç–∞–±–∏–ª—å–Ω–æ–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º–∞
- Telegram –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ Web App

## React + TypeScript + Vite

This template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.

Currently, two official plugins are available:

- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react) uses [Babel](https://babeljs.io/) for Fast Refresh
- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh

## Expanding the ESLint configuration

If you are developing a production application, we recommend updating the configuration to enable type-aware lint rules:

```js
export default tseslint.config([
  globalIgnores(['dist']),
  {
    files: ['**/*.{ts,tsx}'],
    extends: [
      // Other configs...

      // Remove tseslint.configs.recommended and replace with this
      ...tseslint.configs.recommendedTypeChecked,
      // Alternatively, use this for stricter rules
      ...tseslint.configs.strictTypeChecked,
      // Optionally, add this for stylistic rules
      ...tseslint.configs.stylisticTypeChecked,

      // Other configs...
    ],
    languageOptions: {
      parserOptions: {
        project: ['./tsconfig.node.json', './tsconfig.app.json'],
        tsconfigRootDir: import.meta.dirname,
      },
      // other options...
    },
  },
])
```

You can also install [eslint-plugin-react-x](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-x) and [eslint-plugin-react-dom](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-dom) for React-specific lint rules:

```js
// eslint.config.js
import reactX from 'eslint-plugin-react-x'
import reactDom from 'eslint-plugin-react-dom'

export default tseslint.config([
  globalIgnores(['dist']),
  {
    files: ['**/*.{ts,tsx}'],
    extends: [
      // Other configs...
      // Enable lint rules for React
      reactX.configs['recommended-typescript'],
      // Enable lint rules for React DOM
      reactDom.configs.recommended,
    ],
    languageOptions: {
      parserOptions: {
        project: ['./tsconfig.node.json', './tsconfig.app.json'],
        tsconfigRootDir: import.meta.dirname,
      },
      // other options...
    },
  },
])
```
